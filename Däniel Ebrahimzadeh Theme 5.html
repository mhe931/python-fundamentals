<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Theme 5 Project Dashboard: Course Website Development</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <!-- Chosen Palette: Warm Neutrals & Teal Accent -->
    <!-- Application Structure Plan: The application uses a Dashboard structure with three functional tabs: 1) Initial Schedule (Baseline CPM/Gantt), 2) Scenario Comparison (Selector for Problem 1.d and Problem 3 changes), and 3) Tool Analysis (Qualitative answer for Problem 4). This architecture allows the user to easily isolate the complex scheduling calculations from the qualitative analysis, improving flow and comprehension. The core interaction is the selector in Tab 2, which dynamically updates the Gantt chart and metric cards to show the impact of the schedule changes. -->
    <!-- Visualization & Content Choices: 1. Schedule Data -> Goal: Visualize Critical Path -> Viz: Interactive Gantt Chart (Chart.js) -> Interaction: Scenario Selector to switch underlying data/CP highlighting -> Justification: Directly answers Problem 2 (Gantt) and visually confirms CPM/Slack results (Problem 1 & 3). 2. Cost Management -> Goal: Inform -> Viz: Structured HTML/Text/List -> Interaction: None (Focus on clear explanation) -> Justification: Clearly delivers the qualitative tool analysis using ProjectLibre context. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fcfcfc; /* Light off-white */
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 900px; /* Constrain max width */
            margin-left: auto;
            margin-right: auto;
            height: 450px;
        }
        .tab-active {
            border-bottom: 3px solid #14b8a6; /* teal-500 */
            color: #0f766e; /* teal-700 */
            font-weight: 600;
        }
        .tab-inactive {
            color: #475569; /* slate-600 */
        }
        .critical {
            background-color: #f0fdfa; /* teal-50 */
            border-left: 4px solid #14b8a6;
        }
    </style>
</head>
<body class="text-slate-800">

    <div class="container mx-auto p-4 md:p-8 max-w-7xl">
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-slate-900">Theme 5: Project Scheduling and Tool Analysis</h1>
            <p class="text-lg text-slate-600 mt-2">Analysis for "Course Website Development" using CPM and ProjectLibre</p>
        </header>

        <!-- Navigation -->
        <nav class="flex justify-center border-b border-slate-200 mb-8 space-x-4 md:space-x-12">
            <button class="py-3 px-2 text-sm md:text-base tab-active" onclick="showTab('initial')">1. Initial Baseline (Problem 1 & 2)</button>
            <button class="py-3 px-2 text-sm md:text-base tab-inactive" onclick="showTab('scenarios')">2. Scenario Analysis (Problem 1.d & 3)</button>
            <button class="py-3 px-2 text-sm md:text-base tab-inactive" onclick="showTab('tools')">3. ProjectLibre Analysis (Problem 4)</button>
        </nav>

        <main class="space-y-8">
            <!-- 1. Initial Baseline Tab (Problem 1 & 2) -->
            <section id="initial" class="space-y-6">
                <div class="bg-white p-6 rounded-lg shadow-xl">
                    <h2 class="text-2xl font-bold mb-4 text-teal-700">Initial Project Plan (Baseline)</h2>
                    <p class="text-slate-600 mb-6">This shows the original project plan calculated using the Critical Path Method (CPM). The duration is **28 weeks**. The colored bars on the chart visualize the schedule (Gantt Chart), and the **teal-colored bars** highlight the critical path, meaning those tasks cannot be delayed.</p>

                    <div class="chart-container">
                        <canvas id="ganttChartInitial"></canvas>
                    </div>

                    <h3 class="text-xl font-semibold mt-8 mb-4 text-slate-800">Critical Path Summary</h3>
                    <p class="font-mono bg-slate-100 p-3 rounded text-sm mb-4">
                        Critical Path: 1 → 2 → 4 → 7 → 9 → 11
                    </p>

                    <div class="overflow-x-auto">
                        <table class="min-w-full divide-y divide-slate-200 text-sm">
                            <thead class="bg-slate-50">
                                <tr>
                                    <th class="px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase">ID</th>
                                    <th class="px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase">Task Name</th>
                                    <th class="px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase">Duration</th>
                                    <th class="px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase">ES</th>
                                    <th class="px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase">EF</th>
                                    <th class="px-4 py-2 text-left text-xs font-medium text-slate-500 uppercase">Slack</th>
                                </tr>
                            </thead>
                            <tbody id="table-initial" class="bg-white divide-y divide-slate-100">
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>

            <!-- 2. Scenario Comparison Tab (Problem 1.d & 3) -->
            <section id="scenarios" class="hidden space-y-6">
                <div class="bg-white p-6 rounded-lg shadow-xl">
                    <h2 class="text-2xl font-bold mb-4 text-teal-700">Schedule Change Scenarios</h2>
                    <p class="text-slate-600 mb-6">In real life, the project scope always changes. Use the selector below to see how these big changes affect the project's total duration and the critical path.</p>

                    <div class="flex flex-col md:flex-row items-center justify-between mb-6 space-y-4 md:space-y-0 md:space-x-4">
                        <label for="scenario-selector" class="font-medium text-slate-700 whitespace-nowrap">Select Scenario to Compare:</label>
                        <select id="scenario-selector" class="block w-full md:w-auto p-2 border border-slate-300 rounded-md focus:ring-teal-500 focus:border-teal-500" onchange="loadScenario()">
                            <option value="initial">Baseline (Problem 1) - 28.00 Wks</option>
                            <option value="scenario1">Scenario 1 (Problem 1.d: Act 6 takes 6 Wks)</option>
                            <option value="scenario2">Scenario 2 (Problem 3: Massive Duration Changes + New Task)</option>
                        </select>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 text-center">
                        <div class="bg-slate-50 p-4 rounded-lg">
                            <p class="text-sm text-slate-600">Total Duration</p>
                            <p class="text-3xl font-bold text-teal-600 mt-1" id="scen-duration">28.00 Wks</p>
                        </div>
                        <div class="bg-slate-50 p-4 rounded-lg">
                            <p class="text-sm text-slate-600">Critical Path Status</p>
                            <p class="text-xl font-bold text-slate-800 mt-1" id="scen-status">UNCHANGED</p>
                        </div>
                        <div class="bg-slate-50 p-4 rounded-lg">
                            <p class="text-sm text-slate-600">Change vs. Baseline</p>
                            <p class="text-3xl font-bold text-slate-800 mt-1" id="scen-change">0.00 Wks</p>
                        </div>
                    </div>
                    
                    <div id="scenario-narrative" class="mb-6 p-4 rounded-lg bg-teal-50 border border-teal-200">
                        <h3 class="font-semibold text-lg text-teal-800">Analysis: Baseline</h3>
                        <p class="text-sm text-slate-700 mt-2">This is the original, optimal plan. All calculations start here.</p>
                    </div>

                    <div class="chart-container">
                        <canvas id="ganttChartScenario"></canvas>
                    </div>
                </div>
            </section>

            <!-- 3. Tool Analysis Tab (Problem 4) -->
            <section id="tools" class="hidden space-y-6">
                <div class="bg-white p-6 rounded-lg shadow-xl">
                    <h2 class="text-2xl font-bold mb-4 text-teal-700">ProjectLibre: Cost Management (Problem 4)</h2>
                    <p class="text-slate-600 mb-6">I chose **ProjectLibre** for this analysis. As a simple, free tool, it still covers the most important features for cost tracking, which is essential for managing budget for any data or software project.</p>

                    <div class="space-y-6">
                        <div class="border-l-4 border-teal-500 pl-4 py-2">
                            <h3 class="text-xl font-semibold text-slate-800">1. Labor Costs (Resource Rates)</h3>
                            <p class="text-slate-600 mt-2">This is about people's time. In ProjectLibre, you define team members (like Teemu or Helen) as **Work Resources**. You assign a **Standard Rate** (e.g., 20 EUR/h). The tool then automatically calculates the total cost for that task by multiplying the assigned work time by the hourly rate.</p>
                            <p class="text-sm mt-1 text-slate-500">This helps me, as a data manager, see the total cost for my high-skill AI team members on any given task.</p>
                        </div>

                        <div class="border-l-4 border-teal-500 pl-4 py-2">
                            <h3 class="text-xl font-semibold text-slate-800">2. Material/Fixed Costs (Usage Costs)</h3>
                            <p class="text-slate-600 mt-2">For non-human expenses (like software licenses, cloud GPU usage, or equipment), ProjectLibre lets you track them using **Usage Costs**. For instance, if the **Testing (Act 9)** requires equipment that costs **1000 EUR per usage**, you define that as a resource and assign it to the task. That 1000 EUR is added to the total task cost.</p>
                            <p class="text-sm mt-1 text-slate-500">I can see the *true* cost of **Task 9** is not just the tester's time but also the equipment/license fee.</p>
                        </div>

                        <div class="border-l-4 border-teal-500 pl-4 py-2">
                            <h3 class="text-xl font-semibold text-slate-800">3. Project Control with Baseline</h3>
                            <p class="text-slate-600 mt-2">This is the most crucial feature for control. You first **Save Baseline** to freeze the project's original budget. If **Design Reports (Act 7)** takes much longer than planned (like in Problem 3!), the **Current Cost** increases. ProjectLibre allows me to compare the **Current Cost** against the **Baseline Cost** to instantly calculate the budget variance. This is the data that triggers alerts and formal change requests.</p>
                            <p class="text-sm mt-1 text-slate-500">It's the mechanism that stops a small problem from becoming a massive budget failure.</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

<script>
    // --- Data Storage ---
    // Note: The structure for the Gantt chart data is: [ES, EF, Duration, Task Name, IsCritical]
    
    // Base data structure for all tasks (Initial/Scenario 1/Scenario 2)
    const taskDefs = [
        { id: 1, name: 'Define Requirements', pre: [], d: 2, es: 0, ef: 2, ls: 0, lf: 2, slack: 0, critical: true,  color: '#0f766e' },
        { id: 2, name: 'Analyze Business Process', pre: [1], d: 4, es: 2, ef: 6, ls: 2, lf: 6, slack: 0, critical: true, color: '#0f766e' },
        { id: 3, name: 'Analyze Data and UI/UX', pre: [2], d: 3, es: 6, ef: 9, ls: 10, lf: 13, slack: 4, critical: false, color: '#475569' },
        { id: 4, name: 'Design Business Process', pre: [2], d: 7, es: 6, ef: 13, ls: 6, lf: 13, slack: 0, critical: true, color: '#0f766e' },
        { id: 5, name: 'Design Data and UI/UX', pre: [2], d: 6, es: 6, ef: 12, ls: 7, lf: 13, slack: 1, critical: false, color: '#475569' },
        { id: 6, name: 'Design Screens', pre: [3, 4], d: 1, es: 13, ef: 14, ls: 13, lf: 14, slack: 0, critical: true, color: '#0f766e' },
        { id: 7, name: 'Design Reports', pre: [4, 5], d: 5, es: 13, ef: 18, ls: 13, lf: 18, slack: 0, critical: true, color: '#0f766e' },
        { id: 8, name: 'Program', pre: [6, 7], d: 4, es: 18, ef: 22, ls: 22, lf: 26, slack: 4, critical: false, color: '#475569' },
        { id: 9, name: 'Test', pre: [7], d: 8, es: 18, ef: 26, ls: 18, lf: 26, slack: 0, critical: true, color: '#0f766e' },
        { id: 10, name: 'Document', pre: [7], d: 2, es: 18, ef: 20, ls: 24, lf: 26, slack: 6, critical: false, color: '#475569' },
        { id: 11, name: 'Install', pre: [8, 9, 10], d: 2, es: 26, ef: 28, ls: 26, lf: 28, slack: 0, critical: true, color: '#0f766e' },
    ];
    
    // Scenario 1: Act 6 D=6
    const scenario1Data = JSON.parse(JSON.stringify(taskDefs));
    scenario1Data[5].d = 6;
    scenario1Data[5].es = 13;
    scenario1Data[5].ef = 19;
    scenario1Data[5].ls = 14;
    scenario1Data[5].lf = 20;
    scenario1Data[5].slack = 1;
    scenario1Data[5].critical = false; // Path 1-2-4-7-9-11 is still 28

    // Scenario 2: Massive Changes + New Task 12
    const scenario2Data = [
        { id: 1, name: 'Define Requirements', d: 4, es: 0, ef: 4, ls: 0, lf: 4, slack: 0, critical: true },
        { id: 2, name: 'Analyze Business Process', d: 2, es: 4, ef: 6, ls: 4, lf: 6, slack: 0, critical: true },
        { id: 3, name: 'Analyze Data and UI/UX', d: 6, es: 6, ef: 12, ls: 40, lf: 46, slack: 34, critical: false },
        { id: 4, name: 'Design Business Process', d: 28, es: 6, ef: 34, ls: 6, lf: 34, slack: 0, critical: true },
        { id: 5, name: 'Design Data and UI/UX', d: 12, es: 6, ef: 18, ls: 22, lf: 34, slack: 16, critical: false },
        { id: 6, name: 'Design Screens', d: 2, es: 34, ef: 36, ls: 44, lf: 46, slack: 10, critical: false },
        { id: 7, name: 'Design Reports', d: 20, es: 34, ef: 54, ls: 34, lf: 54, slack: 0, critical: true },
        { id: 8, name: 'Program', d: 8, es: 54, ef: 62, ls: 66, lf: 74, slack: 12, critical: false },
        { id: 9, name: 'Test', d: 16, es: 54, ef: 70, ls: 58, lf: 74, slack: 4, critical: false },
        { id: 10, name: 'Document', d: 4, es: 54, ef: 58, ls: 70, lf: 74, slack: 16, critical: false },
        { id: 11, name: 'Install', d: 4, es: 70, ef: 74, ls: 70, lf: 74, slack: 0, critical: true },
        { id: 12, name: 'Additional Training', d: 2, pre: [10, 11], es: 74, ef: 76, ls: 74, lf: 76, slack: 0, critical: true },
    ];
    
    // --- Application Logic ---
    let chartInitialInstance;
    let chartScenarioInstance;
    let currentScenarioData = taskDefs;

    document.addEventListener('DOMContentLoaded', () => {
        setupInitialTab();
        loadScenario('initial');
        showTab('initial');
    });

    function getChartData(data) {
        // Reverse for Chart.js display order (bottom-up)
        const labels = data.map(t => `${t.id}: ${t.name}`).reverse();
        const chartData = data.map(t => [t.es, t.ef]).reverse();
        const backgroundColors = data.map(t => t.critical ? '#14b8a6' : '#64748b').reverse();
        
        return { labels, chartData, backgroundColors };
    }

    function setupInitialTab() {
        const { labels, chartData, backgroundColors } = getChartData(taskDefs);
        chartInitialInstance = createChart('ganttChartInitial', labels, chartData, backgroundColors);
        populateTable('table-initial', taskDefs);
    }
    
    function loadScenario() {
        const selector = document.getElementById('scenario-selector');
        const scenario = selector.value;
        const baselineDuration = 28.00;
        let data, criticalPath, duration, status, narrative;

        switch (scenario) {
            case 'initial':
                data = taskDefs;
                criticalPath = '1 → 2 → 4 → 7 → 9 → 11';
                duration = 28.00;
                status = 'BASELINE';
                narrative = `This is the **Initial Baseline Plan** (Problem 1). It is the optimal schedule with a duration of 28.00 weeks. The critical path runs through the core analysis, design reports, testing, and final installation tasks.`;
                break;
            case 'scenario1':
                data = scenario1Data;
                criticalPath = '1 → 2 → 4 → 7 → 9 → 11 (Unchanged)';
                duration = 28.00;
                status = 'NO DELAY';
                narrative = `**Scenario 1 (Problem 1.d):** Activity 6 (Design Screens) increases from 1 week to **6 weeks**. The total duration remains **28.00 weeks**. This is because the change was absorbed by the existing slack/float in the 1-2-4-6-8-11 path, which was already shorter than the critical testing path. **No Project Delay.**`;
                break;
            case 'scenario2':
                data = scenario2Data;
                criticalPath = '1 → 2 → 4 → 7 → 9 → 11 → 12';
                duration = 76.00;
                status = 'DELAYED';
                narrative = `**Scenario 2 (Problem 3):** This is a massive scope change. Tasks 4 and 7 increase four-fold, and a new dependency (Act 12) is added. The total duration jumps from 28.00 weeks to **76.00 weeks**. The critical path shifts to include the new **Additional Training (Act 12)**.`;
                break;
        }

        currentScenarioData = data;
        
        const { labels, chartData, backgroundColors } = getChartData(data);
        if (chartScenarioInstance) {
             chartScenarioInstance.data.labels = labels;
             chartScenarioInstance.data.datasets[0].data = chartData;
             chartScenarioInstance.data.datasets[0].backgroundColor = backgroundColors;
             chartScenarioInstance.update();
        } else {
            chartScenarioInstance = createChart('ganttChartScenario', labels, chartData, backgroundColors);
        }

        const change = (duration - baselineDuration).toFixed(2);
        document.getElementById('scen-duration').textContent = `${duration.toFixed(2)} Wks`;
        document.getElementById('scen-status').textContent = status;
        document.getElementById('scen-change').textContent = `${change > 0 ? '+' : ''}${change} Wks`;
        document.getElementById('scenario-narrative').innerHTML = `<h3 class="font-semibold text-lg text-teal-800">Analysis: ${selector.options[selector.selectedIndex].text}</h3><p class="text-sm text-slate-700 mt-2">${narrative}</p>`;
        
    }
    
    function createChart(canvasId, labels, data, colors) {
        const ctx = document.getElementById(canvasId).getContext('2d');
        
        return new Chart(ctx, {
            type: 'bar',
            data: {
                labels: labels,
                datasets: [{
                    label: 'Task Duration',
                    data: data,
                    backgroundColor: colors,
                    borderColor: colors,
                    borderWidth: 1,
                    barPercentage: 0.8,
                    categoryPercentage: 0.9,
                    borderSkipped: false,
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    x: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: 'Time (Weeks)'
                        },
                        max: Math.ceil(Math.max(...data.flat()) / 5) * 5
                    },
                    y: {
                        ticks: {
                            font: { size: 10 }
                        }
                    }
                },
                plugins: {
                    legend: { display: false },
                    tooltip: {
                         callbacks: {
                            label: function(context) {
                                const index = context.dataIndex;
                                const reversedData = [...currentScenarioData].reverse();
                                const task = reversedData[index];
                                return [
                                    `${task.name}`,
                                    `Duration: ${task.d} weeks`,
                                    `ES: ${task.es}, EF: ${task.ef}`,
                                    `Slack: ${task.slack.toFixed(0)}`,
                                    task.critical ? 'CRITICAL PATH' : 'Non-Critical'
                                ];
                            }
                        }
                    }
                }
            }
        });
    }

    function populateTable(tableId, data) {
        const tbody = document.getElementById(tableId);
        tbody.innerHTML = '';
        data.forEach(task => {
            const rowClass = task.critical ? 'critical' : 'bg-white';
            const row = `<tr class="${rowClass}">
                <td class="px-4 py-2 text-sm font-medium text-slate-900">${task.id}</td>
                <td class="px-4 py-2 text-sm text-slate-700">${task.name}</td>
                <td class="px-4 py-2 text-sm font-semibold text-slate-700">${task.d}</td>
                <td class="px-4 py-2 text-sm">${task.es}</td>
                <td class="px-4 py-2 text-sm">${task.ef}</td>
                <td class="px-4 py-2 text-sm">${task.slack.toFixed(0)}</td>
            </tr>`;
            tbody.innerHTML += row;
        });
    }
    
    function showTab(tabName) {
        document.querySelectorAll('main section').forEach(section => {
            section.style.display = section.id === tabName ? 'block' : 'none';
        });

        document.querySelectorAll('nav button').forEach(button => {
            const buttonTabName = button.getAttribute('onclick').match(/'([^']+)'/)[1];
            button.className = buttonTabName === tabName ? 'py-3 px-2 text-sm md:text-base tab-active' : 'py-3 px-2 text-sm md:text-base tab-inactive';
        });
    }

</script>
</body>
</html>
