<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Python Data Introduction: NumPy & Pandas</title>
    <!-- Tailwind CSS CDN for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        @keyframes pulseBackground {
            0% { background-position: 0% 0%; }
            50% { background-position: 100% 100%; }
            100% { background-position: 0% 0%; }
        }

        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 0;
            overflow: hidden;
            height: 100vh;
            /* Dynamic background using deep blues and purples for a professional, data science look */
            background: linear-gradient(225deg, #0f172a, #1e3a8a, #374151, #0f172a);
            background-size: 300% 300%;
            animation: pulseBackground 25s ease-in-out infinite;
            color: #d1d5db;
        }
        #root {
            width: 100%;
            height: 100%;
        }
        .presentation-container {
            width: 100%;
            height: 100%;
            transition: transform 0.8s cubic-bezier(0.86, 0, 0.07, 1);
            transform-origin: center center;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .section-card {
            width: 90vw; 
            max-width: 900px;
            /* Dark background with slight transparency for depth */
            background-color: rgba(24, 28, 45, 0.95);
            backdrop-filter: blur(10px);
            border-radius: 1.5rem;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.5);
            padding: 2rem;
            margin: 0;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            transition: transform 0.8s cubic-bezier(0.86, 0, 0.07, 1);
            min-height: 40vh; /* Increased min-height for better visibility */
            box-sizing: border-box; 
        }
        @media (min-width: 640px) {
            .section-card {
                padding: 2.5rem;
            }
        }
        h1, h2, h3 {
            font-weight: 700;
            color: #f1f5f9; /* Lighter text for contrast */
            text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
        }
        h1 { font-size: 2.5rem; }
        @media (min-width: 640px) { h1 { font-size: 3.5rem; } }
        h2 { font-size: 1.75rem; }
        @media (min-width: 640px) { h2 { font-size: 2.25rem; } }
        p, ul { font-size: 1rem; line-height: 1.6; color: #cbd5e1; }
        @media (min-width: 640px) { p, ul { font-size: 1.25rem; } }
        pre {
            background-color: #1f2937; /* Darker background for code */
            padding: 1rem;
            border-radius: 0.75rem;
            white-space: pre-wrap;
            word-wrap: break-word;
            font-family: monospace;
            overflow-x: auto;
            border-left: 4px solid #34d399; /* Green accent */
            font-size: 0.875rem;
            max-width: 100%; 
            box-sizing: border-box;
        }
        @media (min-width: 640px) { pre { padding: 1.5rem; font-size: 1rem; } }
        .nav-buttons {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 1.5rem;
            z-index: 10;
        }
        .nav-button {
            padding: 0.75rem 2.5rem;
            background-color: #3b82f6; /* Blue primary button */
            color: white;
            border-radius: 9999px;
            font-weight: 600;
            transition: background-color 0.3s, transform 0.2s;
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(59, 130, 246, 0.4);
            font-size: 1.125rem;
        }
        .nav-button:hover {
            background-color: #2563eb;
            transform: translateY(-2px);
        }
        .nav-button:disabled {
            background-color: #4b5563;
            cursor: not-allowed;
            box-shadow: none;
        }
        /* Custom class for the code lines connecting the slides */
        .react-line {
            height: 100vh;
            width: 100vw;
            position: absolute;
            pointer-events: none;
            z-index: 5;
            transition: opacity 0.5s;
        }
        .react-line svg {
            width: 100%;
            height: 100%;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <!-- 
        FIX: Ensure React and ReactDOM are loaded BEFORE the Babel script that uses them. 
    -->
    <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        const { useState, useEffect, useCallback } = React;

        // Using vw and vh for responsive positioning
        const sections = [
            {
                title: "Session 3: Introduction to Data in Python",
                content: "Welcome! We're diving into the essential tools used by every data scientist: **NumPy** for speed and **Pandas** for structured analysis. These libraries let Python handle massive datasets efficiently.",
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/c/c3/Python-logo-notext.svg/100px-Python-logo-notext.svg.png",
                transform: { x: 0, y: 0, scale: 1.0 },
                description: "Mastering these libraries is the gateway to machine learning and data engineering."
            },
            {
                title: "NumPy: The Foundation of Numerical Python",
                content: "NumPy introduces the **ndarray** (N-dimensional array), which is like a super-powered, highly efficient list. Python lists are slow for heavy math; NumPy arrays are incredibly fast and memory-efficient.",
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/3/31/NumPy_logo_2020.svg/150px-NumPy_logo_2020.svg.png",
                transform: { x: -120, y: 0, scale: 0.8 }
            },
            {
                title: "Pro Tip: Embrace Vectorization",
                content: "Professional programming tip: **Avoid 'for' loops** when doing math on arrays. NumPy can perform operations on entire arrays at onceâ€”this is called **vectorization** and it's dramatically faster (often 10x to 100x).",
                code: `// Slow (Python loop)
for x in data:
    result.append(x * 2)

// Fast (NumPy Vectorization)
import numpy as np
data_array = np.array([1, 2, 3])
result_array = data_array * 2 
// [2, 4, 6] in a fraction of the time!`,
                transform: { x: -240, y: 0, scale: 0.8 },
                description: "This single concept is the key to high-performance scientific computing in Python."
            },
            {
                title: "Pandas: The Powerhouse of Data Analysis",
                content: "Pandas is the most important library you'll learn for data analysis. It introduces the **DataFrame**, which is essentially a labeled spreadsheet or SQL table built right into Python.",
                image: "https://upload.wikimedia.org/wikipedia/commons/thumb/e/ed/Pandas_logo.svg/150px-Pandas_logo_2020.svg.png",
                transform: { x: 120, y: 0, scale: 0.8 }
            },
            {
                title: "DataFrames: Your Spreadsheet in Code",
                content: "A **DataFrame** has rows (indexed) and columns (labeled). Unlike simple arrays, DataFrames can hold mixed data types (numbers, text, dates) in the same table, making them perfect for real-world datasets.",
                code: `// Structure
// Name | Age | City
// ------------------
// 0    | Alice | 30 | London
// 1    | Bob   | 25 | Paris
// 2    | Chris | 40 | Berlin`,
                transform: { x: 240, y: 0, scale: 0.8 },
                description: "DataFrames are the standard format for almost all data science operations."
            },
            {
                title: "Action: Reading Data from a CSV",
                content: "The first practical step is loading data. Pandas makes this effortless. We use the `read_csv` function to instantly turn a file into a usable DataFrame.",
                transform: { x: 0, y: 100, scale: 0.8 }
            },
            {
                title: "The Load Command",
                code: `import pandas as pd

// Load the file from your computer
df = pd.read_csv('student_data.csv')

// Display the first 5 rows to check the data
print(df.head())`,
                transform: { x: 0, y: 200, scale: 0.8 }
            },
            {
                title: "Pro Tip: Data Sanity Checks",
                content: "Professional programming tip: Always run a quick check after loading data. Use `.shape` to confirm the size and `.info()` to check data types. If a 'number' column is read as 'object' (text), you have a problem!",
                code: `// Essential Sanity Checks
print(df.shape)  // (rows, columns)
df.info()        // Shows non-null counts and data types`,
                transform: { x: 120, y: 200, scale: 0.8 },
                description: "This practice prevents silent errors later in your analysis."
            },
            {
                title: "Physical Activity: Reset Your Body",
                content: "Working with data requires focus. Let's take 2 minutes for a quick physical reset! Simple stretches for the neck and shoulders, and a few deep, slow breaths. This boosts circulation and focus.",
                image: "https://placehold.co/400x200/4ade80/ffffff?text=Stretch+and+Breathe",
                transform: { x: -120, y: 200, scale: 0.8 },
                description: "Take a break. Your code will still be there!"
            },
            {
                title: "Session Summary: Data Toolkit",
                content: "You now have the core building blocks: **NumPy Arrays** for fast math and **Pandas DataFrames** for organized, real-world data manipulation. This is your foundation!",
                list: [
                    "**NumPy:** Arrays are fast. Use vectorization.",
                    "**Pandas:** DataFrames are spreadsheets in Python.",
                    "**Action:** Use `pd.read_csv()` to load data.",
                    "**Check:** Use `.head()`, `.shape`, and `.info()`."
                ],
                transform: { x: 0, y: 0, scale: 1.2 } // Final Zoom Out Summary
            }
        ];

        // Component to render the subtle 'code lines' between related slides
        const CodeLines = ({ current, sections }) => {
            const getCoordinates = (index) => {
                const card = document.getElementById(`card-${index}`);
                if (!card) return null;
                const rect = card.getBoundingClientRect();
                return {
                    x: rect.left + rect.width / 2,
                    y: rect.top + rect.height / 2
                };
            };

            const targetIndices = [1, 2, 3, 4, 5, 6, 7, 8, 9]; // Draw lines from these points
            const currentCoords = getCoordinates(current);
            const svgPath = [];

            if (currentCoords) {
                targetIndices.forEach(target => {
                    if (target !== current) {
                        const targetCoords = getCoordinates(target);
                        if (targetCoords) {
                            // Only draw lines to adjacent or contextually related slides
                            if (Math.abs(target - current) === 1 || (current === 4 && target === 6) || (current === 6 && target === 4)) {
                                svgPath.push(
                                    <line
                                        key={`${current}-${target}`}
                                        x1={currentCoords.x}
                                        y1={currentCoords.y}
                                        x2={targetCoords.x}
                                        y2={targetCoords.y}
                                        stroke="#34d399"
                                        strokeWidth="2"
                                        strokeDasharray="5 5"
                                        opacity={0.3}
                                    />
                                );
                            }
                        }
                    }
                });
            }

            return (
                <div className="react-line">
                    <svg className="w-full h-full" style={{ position: 'absolute', top: 0, left: 0 }}>
                        {svgPath}
                    </svg>
                </div>
            );
        };

        const App = () => {
            const [currentSectionIndex, setCurrentSectionIndex] = useState(0);

            // Handle keyboard navigation (Verified and confirmed to be correct for Arrow/Space)
            const handleNavigation = useCallback((direction) => {
                setCurrentSectionIndex(prevIndex => {
                    if (direction === 'next' && prevIndex < sections.length - 1) {
                        return prevIndex + 1;
                    }
                    if (direction === 'prev' && prevIndex > 0) {
                        return prevIndex - 1;
                    }
                    return prevIndex;
                });
            }, []);

            useEffect(() => {
                const handleKeyDown = (event) => {
                    // Check for ArrowRight or Spacebar
                    if (event.key === 'ArrowRight' || event.key === ' ') {
                        handleNavigation('next');
                        event.preventDefault(); // Prevent spacebar from scrolling the page
                    } 
                    // Check for ArrowLeft
                    else if (event.key === 'ArrowLeft') {
                        handleNavigation('prev');
                        event.preventDefault();
                    }
                };
                
                window.addEventListener('keydown', handleKeyDown);
                return () => {
                    window.removeEventListener('keydown', handleKeyDown);
                };
            }, [handleNavigation]);

            const handleNext = () => handleNavigation('next');
            const handlePrevious = () => handleNavigation('prev');

            const currentTransform = sections[currentSectionIndex].transform;
            // Use vw and vh units for transformation for mobile responsiveness
            const transformStyle = `translate3d(${-currentTransform.x}vw, ${-currentTransform.y}vh, 0) scale(${currentTransform.scale})`;
            

            return (
                <div className="flex flex-col items-center justify-center h-full w-full overflow-hidden">
                    {/* The CodeLines component creates the visual connections */}
                    <CodeLines current={currentSectionIndex} sections={sections} />
                    
                    <div className="presentation-container" style={{ transform: transformStyle }}>
                        {sections.map((section, index) => (
                            <div 
                                key={index} 
                                id={`card-${index}`} // Added ID for line drawing logic
                                className="section-card transition-all duration-700 ease-in-out"
                                style={{
                                    position: 'absolute',
                                    // FIX: Traditional centering using left: 50%, top: 50% and translate(-50%, -50%). 
                                    // This is the most reliable centering method for absolute elements.
                                    left: '50%',
                                    top: '50%',
                                    // The transform now centers the card (using its own dimensions) 
                                    // and then applies the navigation offset and scale.
                                    //transform: `translate(-50%, -50%) translate3d(${section.transform.x}vw, ${section.transform.y}vh, 0) scale(${section.transform.scale})`,
                                    transform: `translate(0%, 0%) translate3d(${section.transform.x}vw, ${section.transform.y}vh, 0) scale(${section.transform.scale})`,
                                    
                                    opacity: currentSectionIndex === index ? 1 : 0.2,
                                    zIndex: currentSectionIndex === index ? 10 : 9, 
                                    boxSizing: 'border-box'
                                }}
                            >
                                <h2 className="text-center mb-4 text-3xl md:text-4xl">{section.title}</h2>
                                {section.image && (
                                    <img 
                                        src={section.image} 
                                        alt={section.title} 
                                        className="rounded-xl my-4 mx-auto w-24 h-24 md:w-32 md:h-32 object-contain"
                                    />
                                )}
                                {section.content && <p className="text-center mt-2 text-lg md:text-xl">{section.content}</p>}
                                {section.description && <p className="mt-4 text-sm md:text-base text-center text-blue-300 italic">{section.description}</p>}
                                {section.code && (
                                    <pre className="mt-4 text-left mx-auto w-full max-w-lg overflow-x-auto">
                                        <code>
                                            {section.code}
                                        </code>
                                    </pre>
                                )}
                                {section.list && (
                                    <ul className="list-disc text-lg md:text-xl text-gray-300 space-y-3 pl-6 mx-auto w-full max-w-lg mt-4">
                                        {section.list.map((item, i) => <li key={i} dangerouslySetInnerHTML={{__html: item}} />)}
                                    </ul>
                                )}
                            </div>
                        ))}
                    </div>
                    <div className="nav-buttons">
                        <button 
                            onClick={handlePrevious} 
                            disabled={currentSectionIndex === 0} 
                            className="nav-button"
                        >
                            Previous
                        </button>
                        <button 
                            onClick={handleNext} 
                            disabled={currentSectionIndex === sections.length - 1} 
                            className="nav-button"
                        >
                            Next
                        </button>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
